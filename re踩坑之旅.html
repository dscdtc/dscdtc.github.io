<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="blog, web, security, front-end"><meta name="author" content="dscdtc"><meta property="og:title" content="re踩坑之旅"><meta property="og:description" content="blog, web, security, front-end"><meta property="og:site_name" content="城  野"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"><title>re踩坑之旅 - 城 野</title><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous"><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"><!--[if lt IE 9]><script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--><link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><style>.pace .pace-progress{background:#6cf;height:3px}.pace .pace-progress-inner{box-shadow:0 0 10px #6cf,0 0 5px #6cf}.pace .pace-activity{border-top-color:#6cf;border-left-color:#6cf}</style><script>!function(t,e,o,c,i,a,n){t.DaoVoiceObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,a=e.createElement("script"),n=e.getElementsByTagName("script")[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,0,("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/771b3406.js","daovoice"),daovoice("init",{app_id:"771b3406"}),daovoice("update")</script></head><body><div class="bg-gradient"></div><div class="bg-pattern"></div><div id="corner"><a href="https://github.com/dscdtc" class="github-corner" aria-label="View source on Github" title="Welcome to my Github!!!"><svg width="80" height="80" viewbox="0 0 250 250" class="octocat" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></div><div class="menu-bg"><div class="menu-container"><ul><li class="menu-item"><a href="/">Home</a></li><li class="menu-item"><a href="/archives">Archives</a></li><li class="menu-item"><a href="/about.html">About</a></li><li class="menu-item"><a href="/tags">Tags</a></li><li class="menu-item"><a href="/categories">Categories</a></li><li class="menu-item"><a href="/contact.html">Contact</a></li></ul><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="298" height="52" src="//music.163.com/outchain/player?type=0&id=688474010&auto=1&height=32"></iframe></div></div><nav><a href="#menu"></a></nav><div class="container"><div class="row"><div class="col-sm-12"><header><div class="logo"><a href="/"><i class="logo-icon fa fa-codepen" aria-hidden="true"></i></a></div></header><section class="main"><div class="post"><div class="post-header"><h1 class="title"><a href="/re踩坑之旅.html">re踩坑之旅</a></h1><div class="post-info"><span class="date">2017-12-27</span><span class="category"><i class="fa fa-tag"></i> <a href="/categories/Python/">Python</a></span><span class="post-count"><i class="fa fa-pencil-square-o"></i> 本篇共1,675字</span> |<span class="post-count"><i class="fa fa-history"></i> 阅读需要6分钟</span></div></div><div class="content"><h1 id="re踩坑之旅"><a href="#re踩坑之旅" class="headerlink" title="re踩坑之旅"></a>re踩坑之旅</h1><blockquote><p>正则表达式(regular expression)描述了一种字符串匹配的模式（pattern）, 可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等.<br><a id="more"></a></p></blockquote><h2 id="re中的方法们"><a href="#re中的方法们" class="headerlink" title="re中的方法们"></a>re中的方法们</h2><table><thead><tr><th style="text-align:center">参数</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">pattern</td><td>匹配的正则表达式(模式字符串)</td></tr><tr><td style="text-align:center">string</td><td>要被查找替换的原始字符串</td></tr><tr><td style="text-align:center">flags</td><td>标志位, 控制正则表达式的匹配方式</td></tr><tr><td style="text-align:center">repl</td><td>替换的字符串, 也可为一个函数</td></tr><tr><td style="text-align:center">count</td><td>替换的最大次数, 默认0, 表示替换所有的匹配</td></tr></tbody></table><table><thead><tr><th style="text-align:center">修饰符(flag)</th><th style="text-align:center">全称</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">re.I</td><td style="text-align:center">IGNORECASE</td><td>使匹配对大小写不敏感</td></tr><tr><td style="text-align:center">re.L</td><td style="text-align:center">LOCALE</td><td>本地化识别, 让\w, \W, \b, \B,取决于当前语言设置</td></tr><tr><td style="text-align:center">re.M</td><td style="text-align:center">MULTILINE</td><td>多行匹配, 影响 ^ 和 $</td></tr><tr><td style="text-align:center">re.S</td><td style="text-align:center">DOTALL</td><td>使 . 匹配包括换行在内的所有字符</td></tr><tr><td style="text-align:center">re.X</td><td style="text-align:center">VERBOSE</td><td>匹配时忽略pattern中的空白符, 使你可以为正则表达式添加注释</td></tr><tr><td style="text-align:center">re.U</td><td style="text-align:center">UNICODE</td><td>根据Unicode字符集解析字符, 这个标志影响 \w, \W, \b, \B</td></tr></tbody></table><ul><li><p>字符串匹配</p><ul><li><p><code>re.match(pattern, string, flags=0)</code></p><blockquote><p>如果在<em>字符串的开头</em>的零个或更多字符匹配正则表达式模式, 将返回相应的MatchObject实例.返回None则该字符串中与模式不匹配；<strong>即使在多行模式下, re.match()将只匹配字符串的开头, 而不是在每个行的开头</strong>.</p></blockquote></li><li><p><code>re.search(pattern, string, flags=0)</code></p><blockquote><p>寻找的<em>第一个由该正则表达式模式产生匹配的位置</em>, 并返回相应的MatchObject实例.返回None则没有字符串中的位置匹配模式.</p></blockquote></li><li><p><code>re.sub(pattern, repl, string, count=0, flags=0)</code></p><blockquote><p>按<code>pattern</code>匹配字符串<code>string</code>中的相应字符并替换为<code>repl</code> (<em>repl可以是返回字符串的函数</em>), 替换<code>count</code>次, 返回替换后的新字符串(不改变原字符串), 若未匹配到则返回原字符串.<strong><code>count</code>默认为0, 表示替换所有的匹配</strong>.</p></blockquote></li><li><p><code>re.subn(pattern, repl, string, count=0, flags=0)</code></p><blockquote><p>同上, 返回值为一个元组:<strong>（替换后的新字符串, 替换次数）</strong>.</p></blockquote></li><li><p><code>re.findall(pattern, string, flags=0)</code></p><blockquote><p>返回字符串(string)中所有非重叠匹配的模式(pattern)组成的<strong>列表</strong>.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>re.findall(<span class="string">'xx\dxx'</span>, <span class="string">'xx1xx2xx3xx4xx5xx'</span>)</div><div class="line">[<span class="string">'xx1xx'</span>, <span class="string">'xx3xx'</span>, <span class="string">'xx5xx'</span>]</div></pre></td></tr></table></figure></blockquote></li><li><p><code>re.split(pattern, string, maxsplit=0, flags=0)</code></p><blockquote><p>按(pattern)匹配字符串(string)中的相应字符并替换为(repl), 替换(count)次, 返回替换后的新字符串.<strong>count默认为0, 表示替换所有的匹配</strong>.</p></blockquote></li></ul></li><li><p>Match Objects方法</p><ul><li><p><code>group(num=0)</code></p><blockquote><p>匹配的整个表达式的字符串, group() 可以一次输入多个组号, 在这种情况下它将返回一个包含那些组所对应值的元组.如果单个参数, 结果是一个单一的字符串 ；如果有多个参数, 其结果是参数每一项的元组.</p></blockquote></li><li><p><code>groups()</code></p><blockquote><p>返回一个包含所有小组字符串的元组.</p></blockquote></li></ul></li><li><p>pattern操作</p><ul><li><p><code>re.purge()</code></p><blockquote><p>清除正则表达式缓存</p></blockquote></li><li><p><code>re.finditer(pattern, string, flags=0)</code></p><blockquote><p>同<code>re.findall</code>, 返回迭代器</p></blockquote></li><li><p><code>re.compile(pattern, flags=0)</code></p><blockquote><p>编译一个正则的模式(pattern), 创建模式对象。可以实现更有效率的匹配, 返回模式对象, 使用<code>re.compile()</code>函数进行转换后，<code>re.search(pattern, string)</code>的调用方式就转换为<code>pattern.search(string)</code>的调用方式</p></blockquote></li><li><p><code>re.template(pattern, flags=0)</code></p><blockquote><p>编译一个用于正则模板的模式(pattern), 返回模式对象</p></blockquote></li><li><p><code>re.escape(pattern)</code></p><blockquote><p>返回字符串, 转译<code>pattern</code>中所有非字母数字；如果你想匹配一个任意的文本字符串, 它可能包含正则表达式元字符.</p></blockquote></li></ul></li></ul><h2 id="正则表达式模式语法"><a href="#正则表达式模式语法" class="headerlink" title="正则表达式模式语法"></a>正则表达式模式语法</h2><table><thead><tr><th style="text-align:center">定位符</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">^</td><td>匹配字符串的开头, 若设置了re.M 还会与 \n 或 \r 之后的位置匹配</td></tr><tr><td style="text-align:center">$</td><td>匹配字符串的末尾</td></tr><tr><td style="text-align:center">\b</td><td>匹配一个字边界, 即字与空格间的位置</td></tr><tr><td style="text-align:center">\B</td><td>非字边界匹配</td></tr><tr><td style="text-align:center">\A</td><td>匹配字符串开始</td></tr><tr><td style="text-align:center">\Z</td><td>匹配字符串结束, 如果是存在换行, 只匹配到换行前的结束字符串</td></tr><tr><td style="text-align:center">\z</td><td>匹配字符串结束</td></tr><tr><td style="text-align:center">\G</td><td>匹配最后匹配完成的位置</td></tr><tr><td style="text-align:center">\1…\9</td><td>匹配第n个分组的内容</td></tr><tr><td style="text-align:center">\10</td><td>匹配第n个分组的内容, 如果它经匹配, 否则指的是八进制字符码的表达式</td></tr></tbody></table><table><thead><tr><th style="text-align:center">限定符</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td>匹配前面的子表达式零次或多次(默认贪婪greedy,尽可能多匹配)</td></tr><tr><td style="text-align:center">+</td><td>匹配前面的子表达式一次或多次(默认贪婪greedy,尽可能多匹配)</td></tr><tr><td style="text-align:center">?</td><td>匹配前面的子表达式零次或一次, 或指明一个非贪婪限定符</td></tr><tr><td style="text-align:center">*?, +?, ??</td><td>限定符的非贪婪模式, 尽可能少的匹配</td></tr><tr><td style="text-align:center">{n}</td><td>匹配前面的子表达式确定的 n 次</td></tr><tr><td style="text-align:center">{n,}</td><td>匹配前面的子表达式至少 n 次</td></tr><tr><td style="text-align:center">{n,m}</td><td>匹配前面的子表达式 n到m 次, <strong>逗号和两个数之间不能有空格, 贪婪方式</strong></td></tr></tbody></table><table><thead><tr><th style="text-align:center">非打印字符</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">\n</td><td>匹配一个换行符 等价于 \x0a 和 \cJ</td></tr><tr><td style="text-align:center">\r</td><td>匹配一个回车符 等价于 \x0d 和 \cM</td></tr><tr><td style="text-align:center">\s</td><td>匹配任何空白字符, 包括空格、制表符、换页符等等 等价于 [ \f\n\r\t\v]</td></tr><tr><td style="text-align:center">\S</td><td>匹配任何非空白字符 等价于 [^ \f\n\r\t\v]</td></tr><tr><td style="text-align:center">\t</td><td>匹配一个制表符 等价于 \x09 和 \cI</td></tr><tr><td style="text-align:center">\v</td><td>匹配一个垂直制表符 等价于 \x0b 和 \cK</td></tr><tr><td style="text-align:center">\f</td><td>匹配一个换页符 等价于 \x0c 和 \cL</td></tr><tr><td style="text-align:center">\cx</td><td>匹配由x指明的控制字符 例如, \cM匹配一个<code>Control-M</code>或回车符x的值必须为A-Z或a-z之一否则,将c视为一个原义的’c’字符</td></tr></tbody></table><table><thead><tr><th style="text-align:center">特殊字符</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:center">.</td><td>匹配任意单字符(除换行符), 当re.S标记被指定时, 可匹配换行符</td></tr><tr><td style="text-align:center">()</td><td>标记一个子表达式的开始和结束位置, 子表达式可以获取供以后使用</td></tr><tr><td style="text-align:center">\</td><td>将下一个字符标记为或特殊字符, 或原义字符, 或向后引用, 或八进制转义符</td></tr><tr><td style="text-align:center">a&brvbar;b</td><td>匹配a或b</td></tr><tr><td style="text-align:center">(?imx: re)</td><td>在括号中使用i, m, 或 x 可选标志</td></tr><tr><td style="text-align:center">(?-imx: re)</td><td>在括号中不使用i, m, 或 x 可选标志</td></tr><tr><td style="text-align:center">(?#…)</td><td>注释</td></tr><tr><td style="text-align:center">(?= re)</td><td>前向肯定界定符。如果所含正则表达式, 在当前位置成功匹配时成功, 剩余部分还要尝试界定符的右边</td></tr><tr><td style="text-align:center">(?! re)</td><td>前向否定界定符。当所含表达式不能在字符串当前位置匹配时成功</td></tr></tbody></table><h2 id="连续替换"><a href="#连续替换" class="headerlink" title="连续替换"></a>连续替换</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> re</div><div class="line"></div><div class="line">my_str = <span class="string">"(condition1) and --condition2--"</span></div><div class="line"><span class="keyword">print</span> my_str.replace(<span class="string">"condition1"</span>, <span class="string">""</span>).replace(<span class="string">"condition2"</span>, <span class="string">"text"</span>)</div><div class="line"></div><div class="line">rep = &#123;<span class="string">"condition1"</span>: <span class="string">""</span>, <span class="string">"condition2"</span>: <span class="string">"text"</span>&#125;</div><div class="line">rep = dict((re.escape(k), v) <span class="keyword">for</span> k, v <span class="keyword">in</span> rep.iteritems())</div><div class="line">pattern = re.compile(<span class="string">"|"</span>.join(rep.keys()))</div><div class="line">my_str = pattern.sub(<span class="keyword">lambda</span> m: rep[re.escape(m.group(<span class="number">0</span>))], my_str)</div><div class="line"></div><div class="line"><span class="keyword">print</span> my_str</div><div class="line"></div><div class="line"><span class="string">"""</span></div><div class="line"><span class="string">Output:</span></div><div class="line"><span class="string">() and --text--</span></div><div class="line"><span class="string">"""</span></div></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="file:///C://python27/Lib/re.py" title="//Python27/Lib/re.py" target="_blank" rel="noopener">re源码</a>,<br><a href="http://www.runoob.com/regexp/regexp-syntax.html" target="_blank" rel="noopener">菜鸟教程</a>,<br><a href="http://blog.csdn.net/u014467169/article/details/51345657" target="_blank" rel="noopener">CSDN博客1</a>,<br><a href="http://blog.csdn.net/caroline_wendy/article/details/47065115" target="_blank" rel="noopener">CSDN博客2</a></p><div style="text-align:center;padding:32px 0;color:#ccc;font-size:14px">-------------本文到此结束&nbsp;<i class="fa fa-university"></i>&nbsp;感谢您的阅读-------------</div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script><p><span>本文标题:</span><a href="/re踩坑之旅.html">re踩坑之旅</a></p><p><span>文章作者:</span><a href="/" title="访问dscdtc的个人博客">dscdtc</a></p><p><span>发布时间:</span>2017-12-27</p><p><span>原始链接:</span><a href="/re踩坑之旅.html" title="re踩坑之旅">http://dscdtc.ml/re踩坑之旅.html</a><span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://dscdtc.ml/re踩坑之旅.html" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a>转载请保留原文链接及作者。</p><p>&copy;著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"复制成功",icon:"success",showConfirmButton:!0})})})</script></div><div class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/Python/"><i class="fa fa-tag"></i> Python</a></div><div class="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zMzAwNS85NTY3"><script>!function(e,t){var c,n=e.getElementsByTagName("script")[0];"function"!=typeof LivereTower&&((c=e.createElement("script")).src="https://cdn-city.livere.com/js/embed.dist.js",c.async=!0,n.parentNode.insertBefore(c,n))}(document)</script><noscript>为正常使用评论功能请激活JavaScript</noscript></div></div></div></section></div></div></div><div class="push"></div><footer class="footer-content"><div class="container"><div class="row"><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about"><h2>About</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;The world ain’t all sunshine and rainbows. It's a very mean and nasty place and I don't care how tough you are, it will beat you to your knees and keep you there permanently if you let it. You, me or nobody, is gonna hit as hard as life. But it ain’t about how hard you hit.It's about how hard you can get hit and keep moving forward. How much you can take，and keep moving forward!!</p></div><div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts"><h2>Recent Posts</h2><ul><li><a class="footer-post" href="/Python高效编程.html">Python高效编程</a></li><li><a class="footer-post" href="/Python中的天坑-dict.html">Python中的天坑--dict</a></li><li><a class="footer-post" href="/re踩坑之旅.html">re踩坑之旅</a></li><li><a class="footer-post" href="/优雅的Python之fotmat.html">Python 优雅编程之 str.format()</a></li></ul></div><div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories"><h2>Categories</h2><ul><li><a class="footer-post" href="/categories/Git/">Git</a></li><li><a class="footer-post" href="/categories/Javascript/">Javascript</a></li><li><a class="footer-post" href="/categories/Python/">Python</a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><ul class="list-inline footer-social-icons"><li class="list-inline-item"><a href="https://github.com/dscdtc/"><span class="footer-icon-container"><i class="fa fa-github"></i></span></a></li><li class="list-inline-item"><a href="dscdtc"><span class="footer-icon-container"><i class="fa fa-weixin"></i></span></a></li><li class="list-inline-item"><a href="mailto:dscdtc@protonmail.com"><span class="footer-icon-container"><i class="fa fa-envelope-o"></i></span></a></li><li class="list-inline-item"><a href="/atom.xml"><span class="footer-icon-container"><i class="fa fa-rss"></i></span></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="footer-copyright">Copyright ©2018 <a href="https://github.com/dscdtc">dscdtc</a>. All right reserved</div><div class="powered-by"><span id="busuanzi_container_site_pv" style="display:none"><i class="fa fa-users"></i> 恭喜您是第<span id="busuanzi_value_site_uv"></span>位访客 |</span><span id="busuanzi_container_site_pv" style="display:none"><i class="fa fa-thermometer-full"></i> 本站访问量达<span id="busuanzi_value_site_pv"></span>人次 |</span><span class="post-count"><i class="fa fa-user-md"></i> 博客全站共9.3k字</span></div></div></div></div></footer><script src="//code.jquery.com/jquery-2.1.4.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" charset="utf-8"></script><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/main.js"></script><script src="/js/love.js"></script><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script src="/js/firework.js"></script><script color="215,236,255" opacity="0.7" zindex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><div id="hexo-helper-live2d"><canvas id="live2dcanvas" width="150" height="300"></canvas></div><style>#live2dcanvas{position:fixed;width:150px;height:300px;opacity:.7;right:0;z-index:999;pointer-events:none;bottom:20px}</style><script src="/live2d/device.min.js"></script><script>const loadScript = function loadScript(c,b){var a=document.createElement("script");a.type="text/javascript";"undefined"!=typeof b&&(a.readyState?a.onreadystatechange=function(){if("loaded"==a.readyState||"complete"==a.readyState)a.onreadystatechange=null,b()}:a.onload=function(){b()});a.src=c;document.body.appendChild(a)};
(function(){
  if((typeof(device) != 'undefined') && (device.mobile())){
    document.getElementById("live2dcanvas").style.width = '75px';
    document.getElementById("live2dcanvas").style.height = '150px';
  }else
    if (typeof(device) === 'undefined') console.error('Cannot find current-device script.');
  loadScript("/live2d/script.js", function(){loadlive2d("live2dcanvas", "/live2d/assets/miku.model.json", 0.5);});
})();</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script></body></html>